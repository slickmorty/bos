
from backtesting import Strategy
import matplotlib.pyplot as plt
import numpy as np

steps: dict = {
    "XGBOOST": {

        "Model": [
            # "Make model more complex, depth max is 6 by default",
            # "All paraeters should be included when constructing a model",
        ],
    },
    "BackTesting": {

        "Reminders": [
            "Remember to backtest while training the model"
        ],
    },
}

# TODO: make new data with sl_to_tp=6 #TODO fuck off i did it with 5
# TODO: Change tp to sl to 1, 1.25, 1.5, 1.75 , 2 , 4 if things didn't work
# TODO: make df columns relate to each other #TODO nvm its to fucking expensive
# TODO: make important columns relative to each other
# TODO:

sell_features = [
    # 'Open',
    # 'High',
    # 'Low',
    # 'Close',
    'TickVol',
    'Spread',
    'PPO',
    'HIST',
    'PPO_SIGNAL',
    'ROC',
    'RSI',
    'STOCHRSI',
    'STOCHRSI_D',
    'STOCHRSI_K',
    'TSI',
    # 'BOLLINGER_HBAND',
    'BOLLINGER_HBAND_INDICATOR',
    # 'BOLLINGER_LBAND',
    'BOLLINGER_LBAND_INDICATOR',
    # 'BOLLINGER_MAVG',
    'BOLLINGER_PBAND',
    'BOLLINGER_WBAND',
    'ULCER_INDEX',
    'DPO',
    'KST',
    'KST_SIG',
    'MACD',
    'MACD_DIFF',
    'MACD_SIGNAL',
    'STC',
    'TRIX',
    'CUMULATIVE_RETURN',
    'DAILY_LOG_RETURN',
    'DAILY_RETURN',
    'PVO',
    'PVO_HIST',
    'PVO_SIGNAL',
    'CCI',
    'STOCH',
    'STOCH_SIGNAL',
    'ULTIMATE_OSCILLATOR',
    'WILLIAMS_R',
    'AVERAGE_TRUE_RANGE',
    # 'DONCHIAN_CHANNEL_HBAND',
    # 'DONCHIAN_CHANNEL_LBAND',
    # 'DONCHIAN_CHANNEL_MBAND',
    'DONCHIAN_CHANNEL_PBAND',
    'DONCHIAN_CHANNEL_WBAND',
    # 'KELTNER_CHANNEL_HBAND',
    'KELTNER_CHANNEL_HBAND_INDICATOR',
    # 'KELTNER_CHANNEL_LBAND',
    'KELTNER_CHANNEL_LBAND_INDICATOR',
    # 'KELTNER_CHANNEL_MBAND',
    'KELTNER_CHANNEL_PBAND',
    'KELTNER_CHANNEL_WBAND',
    'ADX',
    'ADX_NEG',
    'ADX_POS',
    'PSAR_DOWN',
    'PSAR_DOWN_INDICATOR',
    'PSAR_UP',
    'PSAR_UP_INDICATOR',
    'VORTEX_INDICATOR_NEG',
    'VORTEX_INDICATOR_POS',
    'EASE_OF_MOVEMENT',
    'SMA_EASE_OF_MOVEMENT',
    'ACC_DIST_INDEX',
    'CHAIKIN_MONEY_FLOW',
    'MONEY_FLOW_INDEX',
    # 'VOLUME_WEIGHTED_AVERAGE_PRICE',
    'FORCE_INDEX',
    # 'NEGATIVE_VOLUME_INDEX',
    'ON_BALANCE_VOLUME',
    'VOLUME_PRICE_TREND',
    'AWESOME_OSCILLATOR',
    # 'ICHIMOKU_A',
    # 'ICHIMOKU_B',
    # 'ICHIMOKU_BASE_LINE',
    # 'ICHIMOKU_CONVERSION_LINE',
    'MASS_INDEX',
    'AROON_DOWN',
    'AROON_INDICATOR',
    'AROON_UP',

    # 'EMA_INDICATOR_012',
    # 'EMA_INDICATOR_024',
    # 'EMA_INDICATOR_048',
    # 'EMA_INDICATOR_072',
    # 'EMA_INDICATOR_096',
    # 'EMA_INDICATOR_120',
    # 'EMA_INDICATOR_144',
    # 'EMA_INDICATOR_168',
    # 'EMA_INDICATOR_192',
    # 'SMA_INDICATOR_012',
    # 'SMA_INDICATOR_024',
    # 'SMA_INDICATOR_048',
    # 'SMA_INDICATOR_072',
    # 'SMA_INDICATOR_096',
    # 'SMA_INDICATOR_120',
    # 'SMA_INDICATOR_144',
    # 'SMA_INDICATOR_168',
    # 'SMA_INDICATOR_192',

    'Day_sin',
    'Day_cos',
    'One_Year_sin',
    'One_Year_cos',
    'Two_Year_sin',
    'Two_Year_cos',
    'Three_Year_sin',
    'Three_Year_cos',
    'Four_Year_sin',
    'Four_Year_cos',
    'Five_Year_sin',
    'Five_Year_cos',

    'BOLLINGER_HBAND_C',
    'BOLLINGER_LBAND_C',
    'BOLLINGER_MAVG_C',
    'DONCHIAN_CHANNEL_HBAND_C',
    'DONCHIAN_CHANNEL_LBAND_C',
    'DONCHIAN_CHANNEL_MBAND_C',
    'EMA_INDICATOR_012_C',
    'EMA_INDICATOR_024_C',
    'EMA_INDICATOR_048_C',
    'EMA_INDICATOR_072_C',
    'EMA_INDICATOR_096_C',
    'EMA_INDICATOR_120_C',
    'EMA_INDICATOR_144_C',
    'EMA_INDICATOR_168_C',
    'EMA_INDICATOR_192_C',
    'SMA_INDICATOR_012_C',
    'SMA_INDICATOR_024_C',
    'SMA_INDICATOR_048_C',
    'SMA_INDICATOR_072_C',
    'SMA_INDICATOR_096_C',
    'SMA_INDICATOR_120_C',
    'SMA_INDICATOR_144_C',
    'SMA_INDICATOR_168_C',
    'SMA_INDICATOR_192_C',
    # 'Open_C',
    # 'High_C',
    # 'Low_C',
    'ICHIMOKU_A_C',
    'ICHIMOKU_B_C',
    'ICHIMOKU_BASE_LINE_C',
    'ICHIMOKU_CONVERSION_LINE_C',
    'KELTNER_CHANNEL_HBAND_C',
    'KELTNER_CHANNEL_LBAND_C',
    'KELTNER_CHANNEL_MBAND_C',
    'NEGATIVE_VOLUME_INDEX_C',
    'VOLUME_WEIGHTED_AVERAGE_PRICE_C',
    # 'EMA_INDICATOR_012_TO_EMA_INDICATOR_024',
    # 'EMA_INDICATOR_012_TO_EMA_INDICATOR_048',
    # 'EMA_INDICATOR_012_TO_EMA_INDICATOR_072',
    # 'EMA_INDICATOR_012_TO_EMA_INDICATOR_096',
    # 'EMA_INDICATOR_012_TO_EMA_INDICATOR_120',
    # 'EMA_INDICATOR_012_TO_EMA_INDICATOR_144',
    # 'EMA_INDICATOR_012_TO_EMA_INDICATOR_168',
    # 'EMA_INDICATOR_012_TO_EMA_INDICATOR_192',
    # 'EMA_INDICATOR_012_TO_SMA_INDICATOR_012',
    # 'EMA_INDICATOR_012_TO_SMA_INDICATOR_024',
    # 'EMA_INDICATOR_012_TO_SMA_INDICATOR_048',
    # 'EMA_INDICATOR_012_TO_SMA_INDICATOR_072',
    # 'EMA_INDICATOR_012_TO_SMA_INDICATOR_096',
    # 'EMA_INDICATOR_012_TO_SMA_INDICATOR_120',
    # 'EMA_INDICATOR_012_TO_SMA_INDICATOR_144',
    # 'EMA_INDICATOR_012_TO_SMA_INDICATOR_168',
    # 'EMA_INDICATOR_012_TO_SMA_INDICATOR_192',
    # 'EMA_INDICATOR_024_TO_EMA_INDICATOR_048',
    # 'EMA_INDICATOR_024_TO_EMA_INDICATOR_072',
    # 'EMA_INDICATOR_024_TO_EMA_INDICATOR_096',
    # 'EMA_INDICATOR_024_TO_EMA_INDICATOR_120',
    # 'EMA_INDICATOR_024_TO_EMA_INDICATOR_144',
    # 'EMA_INDICATOR_024_TO_EMA_INDICATOR_168',
    # 'EMA_INDICATOR_024_TO_EMA_INDICATOR_192',
    # 'EMA_INDICATOR_024_TO_SMA_INDICATOR_012',
    # 'EMA_INDICATOR_024_TO_SMA_INDICATOR_024',
    # 'EMA_INDICATOR_024_TO_SMA_INDICATOR_048',
    # 'EMA_INDICATOR_024_TO_SMA_INDICATOR_072',
    # 'EMA_INDICATOR_024_TO_SMA_INDICATOR_096',
    # 'EMA_INDICATOR_024_TO_SMA_INDICATOR_120',
    # 'EMA_INDICATOR_024_TO_SMA_INDICATOR_144',
    # 'EMA_INDICATOR_024_TO_SMA_INDICATOR_168',
    # 'EMA_INDICATOR_024_TO_SMA_INDICATOR_192',
    # 'EMA_INDICATOR_048_TO_EMA_INDICATOR_072',
    # 'EMA_INDICATOR_048_TO_EMA_INDICATOR_096',
    # 'EMA_INDICATOR_048_TO_EMA_INDICATOR_120',
    # 'EMA_INDICATOR_048_TO_EMA_INDICATOR_144',
    # 'EMA_INDICATOR_048_TO_EMA_INDICATOR_168',
    # 'EMA_INDICATOR_048_TO_EMA_INDICATOR_192',
    # 'EMA_INDICATOR_048_TO_SMA_INDICATOR_012',
    # 'EMA_INDICATOR_048_TO_SMA_INDICATOR_024',
    # 'EMA_INDICATOR_048_TO_SMA_INDICATOR_048',
    # 'EMA_INDICATOR_048_TO_SMA_INDICATOR_072',
    # 'EMA_INDICATOR_048_TO_SMA_INDICATOR_096',
    # 'EMA_INDICATOR_048_TO_SMA_INDICATOR_120',
    # 'EMA_INDICATOR_048_TO_SMA_INDICATOR_144',
    # 'EMA_INDICATOR_048_TO_SMA_INDICATOR_168',
    # 'EMA_INDICATOR_048_TO_SMA_INDICATOR_192',
    # 'EMA_INDICATOR_072_TO_EMA_INDICATOR_096',
    # 'EMA_INDICATOR_072_TO_EMA_INDICATOR_120',
    # 'EMA_INDICATOR_072_TO_EMA_INDICATOR_144',
    # 'EMA_INDICATOR_072_TO_EMA_INDICATOR_168',
    # 'EMA_INDICATOR_072_TO_EMA_INDICATOR_192',
    # 'EMA_INDICATOR_072_TO_SMA_INDICATOR_012',
    # 'EMA_INDICATOR_072_TO_SMA_INDICATOR_024',
    # 'EMA_INDICATOR_072_TO_SMA_INDICATOR_048',
    # 'EMA_INDICATOR_072_TO_SMA_INDICATOR_072',
    # 'EMA_INDICATOR_072_TO_SMA_INDICATOR_096',
    # 'EMA_INDICATOR_072_TO_SMA_INDICATOR_120',
    # 'EMA_INDICATOR_072_TO_SMA_INDICATOR_144',
    # 'EMA_INDICATOR_072_TO_SMA_INDICATOR_168',
    # 'EMA_INDICATOR_072_TO_SMA_INDICATOR_192',
    # 'EMA_INDICATOR_096_TO_EMA_INDICATOR_120',
    # 'EMA_INDICATOR_096_TO_EMA_INDICATOR_144',
    # 'EMA_INDICATOR_096_TO_EMA_INDICATOR_168',
    # 'EMA_INDICATOR_096_TO_EMA_INDICATOR_192',
    # 'EMA_INDICATOR_096_TO_SMA_INDICATOR_012',
    # 'EMA_INDICATOR_096_TO_SMA_INDICATOR_024',
    # 'EMA_INDICATOR_096_TO_SMA_INDICATOR_048',
    # 'EMA_INDICATOR_096_TO_SMA_INDICATOR_072',
    # 'EMA_INDICATOR_096_TO_SMA_INDICATOR_096',
    # 'EMA_INDICATOR_096_TO_SMA_INDICATOR_120',
    # 'EMA_INDICATOR_096_TO_SMA_INDICATOR_144',
    # 'EMA_INDICATOR_096_TO_SMA_INDICATOR_168',
    # 'EMA_INDICATOR_096_TO_SMA_INDICATOR_192',
    # 'EMA_INDICATOR_120_TO_EMA_INDICATOR_144',
    # 'EMA_INDICATOR_120_TO_EMA_INDICATOR_168',
    # 'EMA_INDICATOR_120_TO_EMA_INDICATOR_192',
    # 'EMA_INDICATOR_120_TO_SMA_INDICATOR_012',
    # 'EMA_INDICATOR_120_TO_SMA_INDICATOR_024',
    # 'EMA_INDICATOR_120_TO_SMA_INDICATOR_048',
    # 'EMA_INDICATOR_120_TO_SMA_INDICATOR_072',
    # 'EMA_INDICATOR_120_TO_SMA_INDICATOR_096',
    # 'EMA_INDICATOR_120_TO_SMA_INDICATOR_120',
    # 'EMA_INDICATOR_120_TO_SMA_INDICATOR_144',
    # 'EMA_INDICATOR_120_TO_SMA_INDICATOR_168',
    # 'EMA_INDICATOR_120_TO_SMA_INDICATOR_192',
    # 'EMA_INDICATOR_144_TO_EMA_INDICATOR_168',
    # 'EMA_INDICATOR_144_TO_EMA_INDICATOR_192',
    # 'EMA_INDICATOR_144_TO_SMA_INDICATOR_012',
    # 'EMA_INDICATOR_144_TO_SMA_INDICATOR_024',
    # 'EMA_INDICATOR_144_TO_SMA_INDICATOR_048',
    # 'EMA_INDICATOR_144_TO_SMA_INDICATOR_072',
    # 'EMA_INDICATOR_144_TO_SMA_INDICATOR_096',
    # 'EMA_INDICATOR_144_TO_SMA_INDICATOR_120',
    # 'EMA_INDICATOR_144_TO_SMA_INDICATOR_144',
    # 'EMA_INDICATOR_144_TO_SMA_INDICATOR_168',
    # 'EMA_INDICATOR_144_TO_SMA_INDICATOR_192',
    # 'EMA_INDICATOR_168_TO_EMA_INDICATOR_192',
    # 'EMA_INDICATOR_168_TO_SMA_INDICATOR_012',
    # 'EMA_INDICATOR_168_TO_SMA_INDICATOR_024',
    # 'EMA_INDICATOR_168_TO_SMA_INDICATOR_048',
    # 'EMA_INDICATOR_168_TO_SMA_INDICATOR_072',
    # 'EMA_INDICATOR_168_TO_SMA_INDICATOR_096',
    # 'EMA_INDICATOR_168_TO_SMA_INDICATOR_120',
    # 'EMA_INDICATOR_168_TO_SMA_INDICATOR_144',
    # 'EMA_INDICATOR_168_TO_SMA_INDICATOR_168',
    # 'EMA_INDICATOR_168_TO_SMA_INDICATOR_192',
    # 'EMA_INDICATOR_192_TO_SMA_INDICATOR_012',
    # 'EMA_INDICATOR_192_TO_SMA_INDICATOR_024',
    # 'EMA_INDICATOR_192_TO_SMA_INDICATOR_048',
    # 'EMA_INDICATOR_192_TO_SMA_INDICATOR_072',
    # 'EMA_INDICATOR_192_TO_SMA_INDICATOR_096',
    # 'EMA_INDICATOR_192_TO_SMA_INDICATOR_120',
    # 'EMA_INDICATOR_192_TO_SMA_INDICATOR_144',
    # 'EMA_INDICATOR_192_TO_SMA_INDICATOR_168',
    # 'EMA_INDICATOR_192_TO_SMA_INDICATOR_192',
    'SMA_INDICATOR_012_TO_SMA_INDICATOR_024',
    'SMA_INDICATOR_012_TO_SMA_INDICATOR_048',
    'SMA_INDICATOR_012_TO_SMA_INDICATOR_072',
    'SMA_INDICATOR_012_TO_SMA_INDICATOR_096',
    'SMA_INDICATOR_012_TO_SMA_INDICATOR_120',
    'SMA_INDICATOR_012_TO_SMA_INDICATOR_144',
    'SMA_INDICATOR_012_TO_SMA_INDICATOR_168',
    'SMA_INDICATOR_012_TO_SMA_INDICATOR_192',
    'SMA_INDICATOR_024_TO_SMA_INDICATOR_048',
    'SMA_INDICATOR_024_TO_SMA_INDICATOR_072',
    'SMA_INDICATOR_024_TO_SMA_INDICATOR_096',
    'SMA_INDICATOR_024_TO_SMA_INDICATOR_120',
    'SMA_INDICATOR_024_TO_SMA_INDICATOR_144',
    'SMA_INDICATOR_024_TO_SMA_INDICATOR_168',
    'SMA_INDICATOR_024_TO_SMA_INDICATOR_192',
    'SMA_INDICATOR_048_TO_SMA_INDICATOR_072',
    'SMA_INDICATOR_048_TO_SMA_INDICATOR_096',
    'SMA_INDICATOR_048_TO_SMA_INDICATOR_120',
    'SMA_INDICATOR_048_TO_SMA_INDICATOR_144',
    'SMA_INDICATOR_048_TO_SMA_INDICATOR_168',
    'SMA_INDICATOR_048_TO_SMA_INDICATOR_192',
    'SMA_INDICATOR_072_TO_SMA_INDICATOR_096',
    'SMA_INDICATOR_072_TO_SMA_INDICATOR_120',
    'SMA_INDICATOR_072_TO_SMA_INDICATOR_144',
    'SMA_INDICATOR_072_TO_SMA_INDICATOR_168',
    'SMA_INDICATOR_072_TO_SMA_INDICATOR_192',
    'SMA_INDICATOR_096_TO_SMA_INDICATOR_120',
    'SMA_INDICATOR_096_TO_SMA_INDICATOR_144',
    'SMA_INDICATOR_096_TO_SMA_INDICATOR_168',
    'SMA_INDICATOR_096_TO_SMA_INDICATOR_192',
    'SMA_INDICATOR_120_TO_SMA_INDICATOR_144',
    'SMA_INDICATOR_120_TO_SMA_INDICATOR_168',
    'SMA_INDICATOR_120_TO_SMA_INDICATOR_192',
    'SMA_INDICATOR_144_TO_SMA_INDICATOR_168',
    'SMA_INDICATOR_144_TO_SMA_INDICATOR_192',
    'SMA_INDICATOR_168_TO_SMA_INDICATOR_192'
]
